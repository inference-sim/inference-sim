# Non-orthogonal workload: SLO tiers have DIFFERENT token distributions
# Critical = short fast requests, Sheddable = long heavy requests
# This tests whether our strategy still works when token length correlates with SLO

version: "2"
seed: 42
category: "language"
aggregate_rate: 2000.0
num_requests: 1000

clients:
  - id: "critical-short"
    tenant_id: "tenant-premium"
    slo_class: "critical"
    rate_fraction: 0.20
    streaming: true
    prefix_group: "system-prompt"
    prefix_length: 256
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 64
        std_dev: 20
        min: 10
        max: 256
    output_distribution:
      type: "exponential"
      params:
        mean: 32

  - id: "standard-medium"
    tenant_id: "tenant-normal"
    slo_class: "standard"
    rate_fraction: 0.50
    prefix_group: "system-prompt"
    prefix_length: 512
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 256
        std_dev: 100
        min: 32
        max: 2048
    output_distribution:
      type: "exponential"
      params:
        mean: 128

  - id: "sheddable-long"
    tenant_id: "tenant-free"
    slo_class: "sheddable"
    rate_fraction: 0.30
    prefix_group: "system-prompt"
    prefix_length: 1024
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 512
        std_dev: 200
        min: 64
        max: 4096
    output_distribution:
      type: "exponential"
      params:
        mean: 256
