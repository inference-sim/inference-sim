# Multi-turn session workload: ALL clients are multi-turn conversations
# Each session has 3-5 rounds with accumulating context
# SLO tiers are orthogonal to session structure
# This creates heterogeneous KV footprints: early rounds have small context,
# later rounds have large accumulated context

version: "2"
seed: 42
category: "reasoning"
aggregate_rate: 100.0
num_requests: 200

clients:
  # Critical SLO: multi-turn sessions (20%)
  - id: "critical-sessions"
    tenant_id: "tenant-premium"
    slo_class: "critical"
    rate_fraction: 0.20
    streaming: true
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 256
        std_dev: 80
        min: 32
        max: 1024
    output_distribution:
      type: "exponential"
      params:
        mean: 128
    reasoning:
      multi_turn:
        max_rounds: 4
        think_time_us: 1000000
        context_growth: "accumulate"

  # Standard SLO: multi-turn sessions (50%)
  - id: "standard-sessions"
    tenant_id: "tenant-normal"
    slo_class: "standard"
    rate_fraction: 0.50
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 256
        std_dev: 80
        min: 32
        max: 1024
    output_distribution:
      type: "exponential"
      params:
        mean: 128
    reasoning:
      multi_turn:
        max_rounds: 4
        think_time_us: 1000000
        context_growth: "accumulate"

  # Sheddable SLO: multi-turn sessions (30%)
  - id: "sheddable-sessions"
    tenant_id: "tenant-free"
    slo_class: "sheddable"
    rate_fraction: 0.30
    arrival:
      process: "gamma"
      cv: 2.0
    input_distribution:
      type: "gaussian"
      params:
        mean: 256
        std_dev: 80
        min: 32
        max: 1024
    output_distribution:
      type: "exponential"
      params:
        mean: 128
    reasoning:
      multi_turn:
        max_rounds: 4
        think_time_us: 1000000
        context_growth: "accumulate"
