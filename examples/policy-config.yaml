# BLIS Policy Configuration (defaults)
#
# Use with: ./blis run --model <model> --policy-config policy-config.yaml
#
# All fields are optional. Omit any field to use CLI flags or built-in defaults.
# CLI flags always override YAML values when both are specified.
#
# To verify which policies are active, run with --log info.
#
# Available policies:
#   admission: always-admit (default), token-bucket, reject-all
#   routing:   round-robin (default), least-loaded, weighted, always-busiest
#   priority:  constant (default), slo-based, inverted-slo
#   scheduler: fcfs (default), priority-fcfs, sjf, reverse-priority
#
# See also: examples/weighted-routing.yaml for a weighted routing example.

admission:
  policy: always-admit
  # token_bucket_capacity: 10000      # max tokens (only for token-bucket)
  # token_bucket_refill_rate: 1000    # tokens/second (only for token-bucket)

routing:
  policy: round-robin
  # scorers:                              # scorer config (only for weighted)
  #   - name: queue-depth
  #     weight: 2.0
  #   - name: kv-utilization
  #     weight: 2.0
  #   - name: load-balance
  #     weight: 1.0
  # See examples/weighted-routing.yaml for weighted routing details.

priority:
  policy: constant

scheduler: fcfs
# WARNING: Do not combine inverted-slo priority with reverse-priority scheduler.
# The two inversions cancel out, producing scheduling identical to normal.
# For pathological scheduling, use one inversion only:
#   inverted-slo + priority-fcfs (inverted priority, correct scheduler)
#   slo-based + reverse-priority (correct priority, inverted scheduler)
